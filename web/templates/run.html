{{ define "run" }}
<div class="row mb-3">
  <div class="col-auto">
    <label for="runSelector" class="form-label">Select Run:</label>
  </div>
  <div class="col">
    <select id="runSelector" class="form-select form-select-sm w-auto">
      {{ range .AllTimestamps }}
      <option value="{{ . }}" {{ if eq . $.Run.Timestamp }}selected{{ end }}>
        {{ . }}
      </option>
      {{ end }}
    </select>
  </div>
</div>

<h3>Run Details for {{ .Run.Date }}</h3>
<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead class="table-primary">
      <tr>
        <th>Category</th>
        <th>Files</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Added</td>
        <td>
          {{ if .Run.AddedFiles }}
          <div class="file-list">
            {{- range .Run.AddedFiles }}
            <div class="file-item">{{ . }}</div>
            {{- end }}
          </div>
          {{ else }}
          <em>none</em>
          {{ end }}
        </td>
      </tr>
      <tr>
        <td>Removed</td>
        <td>
          {{ if .Run.RemovedFiles }}
          <div class="file-list">
            {{- range .Run.RemovedFiles }}
            <div class="file-item">{{ . }}</div>
            {{- end }}
          </div>
          {{ else }}
          <em>none</em>
          {{ end }}
        </td>
      </tr>
      <tr>
        <td>Updated</td>
        <td>
          {{ if .Run.UpdatedFiles }}
          <div class="file-list">
            {{- range .Run.UpdatedFiles }}
            <div class="file-item">{{ . }}</div>
            {{- end }}
          </div>
          {{ else }}
          <em>none</em>
          {{ end }}
        </td>
      </tr>
      <tr>
        <td>Moved</td>
        <td>
          {{ if .Run.MovedFiles }}
          <div class="file-list">
            {{- range .Run.MovedFiles }}
            <div class="file-item">{{ . }}</div>
            {{- end }}
          </div>
          {{ else }}
          <em>none</em>
          {{ end }}
        </td>
      </tr>
      <tr>
        <td>Copied</td>
        <td>
          {{ if .Run.CopiedFiles }}
          <div class="file-list">
            {{- range .Run.CopiedFiles }}
            <div class="file-item">{{ . }}</div>
            {{- end }}
          </div>
          {{ else }}
          <em>none</em>
          {{ end }}
        </td>
      </tr>
      <tr>
        <td>Restored</td>
        <td>
          {{ if .Run.RestoredFiles }}
          <div class="file-list">
            {{- range .Run.RestoredFiles }}
            <div class="file-item">{{ . }}</div>
            {{- end }}
          </div>
          {{ else }}
          <em>none</em>
          {{ end }}
        </td>
      </tr>
    </tbody>
  </table>
</div>
{{ end }}
